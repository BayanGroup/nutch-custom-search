<?xml version="1.0" encoding="UTF-8"?>

<config xmlns="http://bayan.ir" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://bayan.ir extractors.xsd"
	defaultEngine="xpath">
	<types>
		<type name="hello" converter="ir.co.bayan.simorq.zal.nutch.extractor.TestConverter" />
	</types>
	<fields>
		<field name="f1" />
		<field name="f2" />
		<field name="f3" />
		<field name="f4" />
		<field name="f5" />
		
		<field name="f6" />
		<field name="f6.1" />
		
		<field name="f7" />
		<field name="f8" />
		<field name="f9" />
		<field name="f10" />
		
		<field name="f11" />
		
		<field name="f12" type="hello"/>
		
		<field name="id" />
		<field name="content" />
	</fields>
	<documents>
		<document id="d1" url="^http://.+?\.blog.ir">
			<extract-to field="f1">
				<expr value="//book[@title='b1']" />
			</extract-to>
			<extract-to field="f2">
				<concat delimiter="-">
					<expr value="//book[@title]/@title" />
				</concat>
			</extract-to>
			<extract-to field="f3">
				<expr value="//b:book[@title='b1']"/>
			</extract-to>
			<extract-to field="f4">
				<expr value="//dns:book[@title='b3']"/>
			</extract-to>
			<extract-to field="f5">
				<replace pattern="content(.*)" substitution="$1">
					<expr value="//book[@title='b1']"/>
				</replace>
			</extract-to>
		</document>
		<document id="d2" url="^http://.+?\.blog.ir2">
			<partition>
				<expr value="//books/category[@name]" />
			</partition>
			<extract-to field="id">
				<expr value="./@name" />
			</extract-to>
			<extract-to field="content">
				<expr value="//book" />
			</extract-to>
		</document>
	</documents>
</config>